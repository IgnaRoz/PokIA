retorno(bool:x); // x es un booleano que indica si se ha activado el retorno de turno

accion seleccionar_pokemon_banco(pokemon:x){
    Fase: cambio_pokemon_activo;
    Variables: {
        j: turno_actual(j);
        r: rival(y,r);
    };
    Condicion: turno_actual(j) AND banco(x,y);
    Consecuencias: intercambio_pokemon(x)  AND fase(normal); 
}


consecuencia intercambio_pokemo(pokemon:x){
    Consecuencias: activo(x,y) AND NOT banco(x,y);
}

contingencia intercambio_pokemon_activo: intercambio_pokemon(x){
    precondicion: activo(z,y);
    Consecuencias: banco(z,y) AND NOT activo(z,y);
}

//Si antes de entrar en la fase de cambio, se ponte a true la variable de retorno, entonces se vuelve al turno del jugador anterior. 
contingencia retorno: intercambio_pokemon(x){
    precondicion: retorno(true);
    Consecuencias: retorno(false) AND  NOT turno_actual(j) AND turno_actual(r); 
}